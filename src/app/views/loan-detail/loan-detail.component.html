<ngx-spinner bdColor="rgba(0,0,0,.3)" size="medium" color="#fff" type="ball-clip-rotate-multiple"></ngx-spinner>
<div class="container">
  <div class="row">
    <div class="col-xs-12 loan-detail" *ngIf="loan !== undefined">
      <div class="row">
        <div class="navbar-container">
          <ul class="col-group x3">
            <li class="col-item">
              <app-goback-button></app-goback-button>
            </li>
            <li class="col-item">
              <app-creator-container [loan]=loan></app-creator-container>
            </li>
            <li class="col-item">
              <app-button-group></app-button-group>
            </li>
          </ul>
        </div>
        <div class="col-xs-12 col-md-6 loan-description left">
          <div class="row">
            <div class="col-xs-6">
              <app-loan-avatar [loan]=loan [short]=false></app-loan-avatar>
            </div>
            <div class="col-xs-6">
              <div [ngClass]="['pull-right']">
                <app-avatar-title [loan]=loan></app-avatar-title>
              </div>
            </div>
          </div>
          <app-conversion-graphic [headers]="['Lend', loan.currency, isRequest ? 'Estimated return' : 'Return']" [amountLeft]="loan.amount" [amountRight]="isRequest ? loan.expectedReturn : loan.total"></app-conversion-graphic>
          <app-conversion-graphic [headers]="['Paid', 'Interest', 'Debt']" [amountRight]="loan.pendingAmount" [textMiddle]="interestMiddleText" [amountLeft]="loan.paid" *ngIf="!isRequest"></app-conversion-graphic>
          <div class="margintop20"></div>
          <app-detail-table [data]="loanConfigData" *ngIf="isRequest"></app-detail-table>
          <app-detail-table [data]="loanStatusData" *ngIf="!isRequest"></app-detail-table>
          <div class="table-responsive" (click)="openDetail('identity')">
            <table class="table" (click)="addClass(id=1)">
              <thead>
                <tr>
                  <th style='cursor: pointer' [ngClass]="{'background-active': id === 1 }" scope="col">{{ 'Identity' }}</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td style='cursor: pointer'>{{ loan.borrower }} - Unknown</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="table-responsive">
            <table class="table" (click)="addClass(id=1)">
              <thead>
                <tr>
                  <th style='cursor: pointer' *ngIf="!isRequest" scope="col">{{ 'Lender' }}</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td style='cursor: pointer'>{{ loan.owner }}</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="table-responsive" (click)="openDetail('cosigner'); addClass(id=2)">
            <table class="table">
              <thead>
                <tr>
                  <th style='cursor: pointer' [ngClass]="{'background-active': id === 2 }" scope="col">{{ 'Insurance / Cosigner' }}</th>
                </tr>
              </thead>
              <tbody>
                <app-cosigner-selector [option]=cosignerOption></app-cosigner-selector>
              </tbody>
            </table>
          </div>
          <div *ngIf="isRequest">
            <app-lend-button [loan]=loan></app-lend-button>
          </div>
          <div *ngIf="isOngoing">
            <app-pay-button></app-pay-button>
            <app-forgive-button></app-forgive-button>
          </div>
        </div>
        <div class="col-xs-12 col-md-6 loan-description right">
          <app-detail-identity *ngIf="isDetail('identity')"></app-detail-identity>
          <app-detail-cosigner *ngIf="isDetail('cosigner')" [cosigner]="cosigner"></app-detail-cosigner>
        </div>
      </div>
    </div>
  </div>
</div>