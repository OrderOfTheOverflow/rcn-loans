<div class="wrapper" [ngClass]="{'sidebar-toggled': navToggle , 'navmobile-toggled': navmobileToggled}" [style.min-height.px]="winHeight">
  <app-header></app-header>
  <div class="navmobile-menu">
    <div class="balance-container" *ngIf='hasAccount'>
      <div class="balance-row bg-gray7">
        <div class="title">Available to Withdraw</div>
        <div class="value ellipsis"><span class="currency">RCN</span> {{ available }}</div>
      </div>
      <div class="balance-row">
        <div class="title">Account Balance</div>
        <div class="value ellipsis"><span class="currency">RCN</span> {{ balance }}</div>
      </div>
      <app-withdraw-button [loansWithBalance]="loansWithBalance" *ngIf="rcnAvailable !== '0'"></app-withdraw-button>
      <div class="spacing-container-bottom"></div>
    </div>
    <div class="profile-container" *ngIf='hasAccount'>
      <div class="spacing-container-top" *ngIf='!hasAccount'></div>
      <div class="profile-row">
        <app-avatar [seed]=lender></app-avatar>
        <div class="title title-centered">Wallet address</div>
      </div>
      <div class="profile-row">
        <div class="title margintop5 ellipsis">{{ lender }}</div>
      </div>
      <div class="profile-row">
        <div class="title margintop20">
          <mat-checkbox [disabled]="!isEnabled" [checked]="isApproved" (click)=clickCheck()></mat-checkbox> 
          Authorize the Loan Engine contract to operate RCN on your behalf
        </div>
      </div>
      <div class="spacing-container-bottom" *ngIf='!hasAccount'></div>
    </div>
    <app-social-container></app-social-container>
    <div class="version-container">
      <div class="version-row">
        <i class="fas fa-code-branch fa-lg"></i>
        <div class="inline marginleft15">Version {{version}}</div>
      </div>
    </div>
  </div>
  <mat-sidenav-container class="example-container">
    <mat-sidenav #sidenav
      mode="over"
      [opened]="navToggle"
      (close)="onClose()"
      (open)="onOpen()">
      <div class="relative" [style.height.px]="winHeight - 60">

        <div class="balance-container animation-opacity" *ngIf='hasAccount'>
          <div class="balance-row bg-gray7">
            <div class="title">Available to Withdraw</div>
            <div class="value ellipsis"><span class="currency">RCN</span> {{ available }}</div>
          </div>
          <div class="balance-row">
            <div class="title">Account Balance</div>
            <div class="value ellipsis"><span class="currency">RCN</span> {{ balance }}</div>
          </div>
          <app-withdraw-button [loansWithBalance]="loansWithBalance" *ngIf="rcnAvailable !== '0'"></app-withdraw-button>
          <div class="spacing-container-bottom"></div>
        </div>

        <ul>
          <li routerLink='/requests' (click)='sidebarToggle()' class='animation-left'>
            <div class="li-container">
              <i class="fas fa-coins"></i>
              <div class="txt">Requests</div>
            </div>
          </li>
          <li routerLink='/activity' (click)='sidebarToggle()' class='animation-left'>
            <div class="li-container">
              <i class="fas fa-exchange-alt"></i>
              <div class="txt">Activity</div>
            </div>
          </li>
          <li routerLink='/address/{{ account }}/' (click)='sidebarToggle()' *ngIf='hasAccount' class='animation-left'>
            <div class="li-container">
              <i class="fas fa-wallet"></i>
              <div class="txt">Loans</div>
            </div>
          </li>
          <!-- <li (click)='sidebarToggle(); extensionToggle()' *ngIf='hasAccount' class='animation-left'>
            <div class="li-container">
              <i class="fas fa-chart-bar"></i>
              <div class="txt">Balance</div>
            </div>
          </li> -->
          <!-- <li (click)='sidebarToggle(); openDialog()' *ngIf='hasAccount' class='animation-left'>
            <div class="li-container">
              <i class="fas fa-user-circle"></i>
              <div class="txt">Profile</div>
            </div>
          </li> -->
          <li (click)="sidebarToggle(); openDialog()" *ngIf="!hasAccount" class='animation-left'>
            <div class="li-container">
              <i class="fas fa-user-circle"></i>
              <div class="txt">Login</div>
            </div>
          </li>
          <li class='animation-left'>
            <div class="li-container">
              <i class="fas fa-code-branch"></i>
              <div class="txt">Version {{ version }}</div>
            </div>
          </li>
          <div class="border-bottom" *ngIf='hasAccount'></div>
        </ul>

        <div class="profile-container animation-opacity" *ngIf='hasAccount'>
          <div class="spacing-container-top" *ngIf='!hasAccount'></div>
          <div class="profile-row">
            <app-avatar [seed]=lender></app-avatar>
            <div class="title title-centered">Wallet address</div>
          </div>
          <div class="profile-row">
            <div class="title margintop5 ellipsis">{{ lender }}</div>
          </div>
          <div class="profile-row">
            <div class="title margintop20">
              <mat-checkbox [disabled]="!isEnabled" [checked]="isApproved" (click)=clickCheck()></mat-checkbox> 
              Authorize the Loan Engine contract to operate RCN on your behalf
            </div>
          </div>
          <div class="spacing-container-bottom" *ngIf='!hasAccount'></div>
        </div>        
        
        <div class="social-component animation-opacity">
          <app-social-container></app-social-container>
        </div>
      </div>
    </mat-sidenav>
    <mat-sidenav-content [style.min-height.px]="winHeight">
      <div id="page-content-wrapper">
        <router-outlet></router-outlet>
        <app-footer></app-footer>
      </div>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>


