<app-dialog-header title="Collateral adjustment">
</app-dialog-header>

<mat-dialog-content>

  <ng-container *ngIf="startProgress">
    <app-infinite-progress-bar
      [start]="true"
      [end]="finishProgress"
      (finish)="hideProgressbar()"
    >
    </app-infinite-progress-bar>
  </ng-container>
  <ng-container [ngSwitch]="action">
    <app-collateral-add-form
      *ngSwitchCase="'add'"
      [loan]="loan"
      [loading]="addPendingTx"
      [shortAccount]="shortAccount"
      (submitAdd)="addCollateral($event)"
    ></app-collateral-add-form>
    <app-collateral-withdraw-form
      *ngSwitchCase="'withdraw'"
      [loan]="loan"
      [loading]="withdrawPendingTx"
      [shortAccount]="shortAccount"
      (submitWithdraw)="withdrawCollateral($event)"
    ></app-collateral-withdraw-form>
  </ng-container>
</mat-dialog-content>
